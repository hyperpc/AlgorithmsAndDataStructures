# 数据类型：基本的数据结构

## 数值类型

### 整型

整型，表示有符号(负值、零或正值)或无符号(零或正值)的整数  

**字节**，8位数据类型，最小的数据类型。一个8位的内存块表示2^8^或256个值。  
有符号字节取值范围：-128 ~ 127，或-2^7^ ~ 2^7^-1  
无符号字节取值范围：0 ~ 255，或0 ~ 2^8^-1  
> C#: byte, sbyte  
> Java: byte  

**短整型**，16位数据类型，可表示2^16^个值。  
有符号短整型取值范围：-2^15^ ~ 2^15^-1(-32,768 到 32,767)  
无符号短整型取值范围：0 ~ 2^16^-1(0 到 65,535)  
> C#: short, ushort  
> Java: short, char  

**整型**，32位数据类型，可表示2^32^个值。  
有符号整型取值范围：-2^31^ ~ 2^31^-1(-2,147,483,648 到 2,147,483,647)  
无符号整型取值范围：0 ~ 2^32^-1(0 到 4,294,967,295)  
> C#: int, uint  
> Java: int  

**长整型**，64位数据类型，可表示2^64个值。  
有符号长整型取值范围：-2^63^ ~ 2^63^-1(-9,223,372,036,854,775,808 到 9,223,372,036,854,775,807)  
无符号长整型取值范围：0 ~ 2^64^-1(0 到 18,446,744,073,709,551,615)  
> C#: long, ulong  
> Java: long  

### 单精度浮点型

单精度浮点型**float**，4个字节，使用32位浮点容器能够存储比整型更高精度的数值，通常有6~9位有效数字  
近似取值范围：±1.5 x 10^-45^ ~ ±3.4 x 10^38^  
float类型，不能精确表示以10为基的数字，故精度受限于归零误差。  
浮点类型的数值算法非常复杂，虽然其细节都与大部分开发人员不太相关，但掌握该类型，可以加深对底层技术及每种语言实现细节的了解  
> C#: float  
> C#语言表示小数时，默认为double类型；表示float类型时，需要在数值后添加后缀`f`。  
> Java: float  

### 双精度浮点型

双精度浮点型**double**，8个字节，使用64位浮点容器能够存储比整型更高精度的数值，通常有15~17位有效数字  
近似取值范围：±5.0 x 10^-324^ ~ ±1.7 x 10^308^  
double类型，不能精确表示以10为基的数字，故精度受限于归零误差。   
> C#: double  
> C#语言表示小数时，默认为double类型，也可以在数值后添加后缀`d`。  
> Java: double  

### 货币类型

鉴于二进制数据的固有不确定性，浮点类型始终无法精确表示现实中的十进制货币。  
货币类型**decimal**，有效地解决了这一问题，通常有28~29位有效数字，数值后添加后缀`m`    
近似取值范围：±1.0 x 10^-28^ ~ ±7.9228 x 10^28^     
> C#: decimal  
> Java: BigDecimal  
> 针对这些定制类型，更简单优雅的替代方案：可使用int或long类型进行货币计算，用分代替元来计数  

### 类型转换

**静态类型语言**和**动态类型语言**  

静态类型语言(static languages)，在编译时作类型检查(type checking)，如C#，Java及Swift等  
动态类型语言(dynamic languages)，在执行时作类型检查(type checking)，如C及Objective-C等  

**隐式转换**和**显示转换**  

隐式转换(implicit conversion)，不需要在源代码中使用任何特殊语法的类型转换；在程序运行前，编译器无法进行隐式类型转换的检查，存在风险  
显示转换(explicit conversion)，类型安全  

**缩限转换**和**扩展转换**  

缩限转换(narrowing conversion)，目标类型支持的字节数比源数据类型少，转换过程中，可能丢失信息；不支持隐式转换  
扩展转换(widening conversion)，目标类型支持的字节数比源数据类型多，可以完整保留源数据的值，但可能改变表示方法  
除了提高可靠性，显示的扩展转换，不会对程序造成其他的额外影响  

## 布尔类型

用于表示基于布尔代数的真值逻辑(1和0；true和false；YES和NO)  

等于运算符：`==`、`!=`  
关系运算符：`>`、`>=`、`<`、`<=`  
逻辑运算符：`AND`、`OR`、`NOT`、`XOR` 

### 运算符优先级

1. 括号  
2. 关系运算符  
3. 等于运算符  
4. 位运算符  
5. 非运算符  
6. 与运算符  
7. 或运算符  
8. 异或运算符  
9. 三目运算符  
10. 赋值运算符  

### 短路求值

短路求值(short-circuiting)，程序在能够确定表达式整体结果时，就立即终止求值过程并返回  

> C#: bool(System.Boolean)  
> Java: boolean  

## 字符串

严格来说，字符串不算数据类型，而是值位文本的简单对象  
底层来看，字符串包含一个由只读char对象组成的有序集；这种只读特性，也时字符串具有不可变性(immutable)  
任何不可变对象的更改，都意味着内存中新对象的建立和旧对象的释放  
相对于更改内存地址，更改不可变对象需要更多操作的密集运算；故字符串的频繁修改和拼接，都是高代价，低效率的  

> C#: string  
> Java: String  
> Swift: String，官方文档说字符串可变，实际底层仍然是只读不可变的，与C#和Java一样  
